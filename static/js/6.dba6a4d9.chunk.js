(this.webpackJsonplovinlocal=this.webpackJsonplovinlocal||[]).push([[6],{334:function(e,n,t){"use strict";t.r(n);var c,r,a,i,s,l,d,o,j,b,p,O,f,x,u,m,h,v,y,g,Y,D=t(6),C=t(8),M=t(4),N=t(1),H=t(30),k=t(5),w=t(325),E=t.n(w),A=t(14),_=t(2),T=t(3),S=t(18),R=k.b.div(c||(c=Object(M.a)(["\n  width: calc(50% - 4px);\n\n  border-radius: 4px;\n  /* border: 1px solid #ddd; */\n  background: #fff;\n"]))),F=k.b.div(r||(r=Object(M.a)(["\n  width: 100%;\n  height: 48px;\n  padding: 0 12px 0 16px;\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  & div {\n    display: flex;\n    align-items: center;\n  }\n  & span {\n    margin-left: 8px;\n  }\n  & svg {\n    width: 24px;\n    fill: rgba(0,0,0,0.45);\n  }\n"]))),I=t(0),L=Object(k.b)(R)(a||(a=Object(M.a)([""]))),U=k.b.div(i||(i=Object(M.a)(["\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  border-radius: 2em 2em 0 0;\n  border: 1px solid #ddd;\n  background: #fff;\n\n  z-index: 99999;\n\n  display: flex;\n  flex-direction: column;\n"]))),V=k.b.div(s||(s=Object(M.a)(["\n  width: 100%;\n"]))),z=Object(k.b)(V)(l||(l=Object(M.a)(["\n  line-height: 48px;\n  padding: 0 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),P=Object(k.b)(V)(d||(d=Object(M.a)(["\n  line-height: 44px;\n  border-top: 1px solid #f0f0f0;\n  \n  position: relative;\n\n  & p {\n    width: 100%;\n    text-align: center;\n  }\n  & svg {\n    width: 24px;\n    position: absolute;\n    right: 18px;\n    top: 50%;\n    transform: translateY(-50%);\n    fill: ",";\n  }\n"])),T.h.color.primary.default),B=function(e){var n=e.onClose,t=e.onOpen,c=e.open,r=e.icon,a=e.text,i=Object(N.useContext)(A.c),s=i.model,l=i.setFilterKinds,d=Object(N.useState)(s.filterForMyOrders.kinds),o=Object(C.a)(d,2),j=o[0],b=o[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(L,{children:Object(I.jsxs)(F,{onClick:t,children:[Object(I.jsxs)("div",{children:[r,Object(I.jsx)("span",{children:a})]}),Object(I.jsx)(_.D,{})]})}),c?Object(I.jsxs)(U,{children:[Object(I.jsxs)(z,{children:[Object(I.jsx)("span",{className:"ft-rr14 clr-ft-gray4-97",onClick:function(){n(),b(s.filterForMyOrders.kinds)},children:"Cancel"}),Object(I.jsx)("span",{className:"ft-pm16 clr-ft-gray0-087",children:"Filter"}),Object(I.jsx)("span",{className:"ft-rr14 clr-ft-primary",onClick:function(){n(),l(j)},children:"Confirm"})]}),T.d.map((function(e,n){return Object(I.jsxs)(P,{onClick:(t=e.value,function(){j.includes(t)?b(Object(S.a)(j.filter((function(e){return e!==t})))):b([].concat(Object(S.a)(j),[t]))}),children:[Object(I.jsx)("p",{className:j.includes(e.value)?"ft-rr16 clr-ft-primary":"ft-rr14 clr-ft-gray0-087",children:e.label}),j.includes(e.value)?Object(I.jsx)(_.y,{}):null]},n);var t}))]}):null]})},J=Object(k.b)(R)(o||(o=Object(M.a)([""]))),X=k.b.div(j||(j=Object(M.a)(["\n  width: 100%;\n  padding: 0 16px;\n\n  display: flex;\n  flex-direction: column;\n"]))),$=k.b.div(b||(b=Object(M.a)(["\n  width: 100%;\n  line-height: 44px;\n\n  cursor: pointer;\n\n  & ~ & {\n    border-top: 1px solid #f0f0f0;\n  }\n  \n  & p {\n    width: 100%;\n  }\n"]))),q=k.b.div(p||(p=Object(M.a)(["\n  padding: 8px 16px 16px;\n  background: ",";\n  border-radius: 4px;\n  color: #fff;\n"])),T.h.color.primary.default),K=function(e){var n=e.onApply,t=Object(N.useState)(null),c=Object(C.a)(t,2),r=c[0],a=c[1],i=Object(N.useState)(null),s=Object(C.a)(i,2),l=s[0],d=s[1];return Object(I.jsxs)(q,{children:[Object(I.jsx)("p",{className:"ft-rb12",children:"From"}),Object(I.jsx)(_.X,{name:"from",value:r,onChange:a}),Object(I.jsx)("p",{className:"ft-rb12",style:{marginTop:"8px"},children:"To"}),Object(I.jsx)(_.X,{name:"to",value:l,onChange:d}),Object(I.jsx)("p",{style:{marginTop:"16px",textAlign:"center"},className:"ft-rb16",onClick:function(){return n([r,l])},children:"Apply"})]})},G=["All Day","Today","Yesterday","Last 7 Days","This Month","Custome Dates"],Q=[["2020-01-01 00:00:00","2099-12-31 23:59:59"],[E()().startOf("day").format("YYYY-MM-DD HH:mm:ss"),E()().endOf("day").format("YYYY-MM-DD HH:mm:ss")],[E()().subtract(1,"day").startOf("day").format("YYYY-MM-DD HH:mm:ss"),E()().subtract(1,"day").endOf("day").format("YYYY-MM-DD HH:mm:ss")],[E()().subtract(7,"day").startOf("day").format("YYYY-MM-DD HH:mm:ss"),E()().endOf("day").format("YYYY-MM-DD HH:mm:ss")],[E()().startOf("month").format("YYYY-MM-DD HH:mm:ss"),E()().endOf("month").format("YYYY-MM-DD HH:mm:ss")]],W=function(e){var n=e.onOpen,t=e.open,c=e.onConfirm,r=e.icon,a=e.text,i=Object(N.useContext)(A.c),s=(i.model,i.setFilterDate),l=Object(N.useState)(!1),d=Object(C.a)(l,2),o=d[0],j=d[1];return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(J,{children:[Object(I.jsxs)(F,{onClick:n,children:[Object(I.jsxs)("div",{children:[r,Object(I.jsx)("span",{children:a})]}),Object(I.jsx)(_.D,{})]}),t?Object(I.jsx)(X,{children:G.map((function(e,n){return Object(I.jsx)($,{onClick:(t=n,function(){t===G.length-1?j(!0):(c(),s(G[t],Q[t]||[]))}),children:Object(I.jsx)("p",{className:"ft-rr16 clr-ft-gray2-48",children:e})},n);var t}))}):null,!!t&&!!o&&Object(I.jsx)(K,{onApply:function(e){j(!1),E()(e[0]).isValid()&&E()(e[1]).isValid()&&(c(),s(G.slice(-1)[0],[E()(e[0]).startOf("day").format("YYYY-MM-DD HH:mm:ss"),E()(e[1]).endOf("day").format("YYYY-MM-DD HH:mm:ss")]))}})]})})},Z=k.b.div(O||(O=Object(M.a)(["\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  background: #fff;\n\n  line-height: 22px;\n\n  margin-top: 16px;\n  padding: 16px;\n  cursor: pointer;\n\n  & div {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  & span {\n  }\n"]))),ee=function(e){var n=e.onClick,t=e.merchantName,c=e.timestamp,r=e.content,a=e.receipt;return Object(I.jsxs)(Z,{onClick:n,children:[Object(I.jsx)("p",{className:"ft-rm12 clr-ft-gray4-97",children:t}),Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"ft-rr14 clr-ft-gray2-48",children:"Order Date:"}),Object(I.jsx)("span",{className:"ft-rr14 clr-ft-gray3-76",children:c})]}),Object(I.jsx)(_.i,{margin:"8px 0",color:T.h.color.gray["#7-f5"]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"ft-rm16 clr-ft-gray2-48",children:r}),Object(I.jsx)("span",{className:"ft-rm16 clr-ft-primary",children:"$".concat(a.toFixed(2))})]})]})},ne=k.b.div(f||(f=Object(M.a)(["\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  background: #fff;\n  line-height: 22px;\n\n  margin-top: 16px;\n  padding: 16px 16px 12px;\n  cursor: pointer;\n\n"]))),te=k.b.div(x||(x=Object(M.a)(["\n  display: flex;\n  justify-content: space-between;\n  position: relative;\n"]))),ce=k.b.div(u||(u=Object(M.a)(["\n  width: 100%;\n  & p {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n  }\n  & span.label {\n    color: ",";\n  }\n  & span.value {\n    color: ",";\n  }\n"])),T.h.color.gray["#2-48"],T.h.color.gray["#3-76"]),re=function(e){var n=e.merchantName,t=e.counter,c=e.content,r=e.price,a=e.exInfo;return Object(I.jsxs)(ne,{children:[Object(I.jsxs)(te,{children:[Object(I.jsx)("p",{style:{width:"42%"},className:"ft-rm16 clr-ft-gray2-48",children:c}),Object(I.jsxs)("p",{style:{width:"50%",display:"flex",justifyContent:"space-between"},children:[Object(I.jsx)("span",{style:{textAlign:"left"},className:"ft-rm16 clr-ft-gray2-48",children:"x".concat(t||1)}),Object(I.jsx)("span",{className:"ft-rm16 clr-ft-primary",children:"$".concat(r.toFixed(2))})]})]}),Object(I.jsx)("p",{className:"ft-rm12 clr-ft-gray4-97",children:n}),a?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(_.i,{margin:"8px 0"}),Object(I.jsxs)(ce,{className:"ft-rr14",children:[Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{className:"label",children:"Redemption Code"}),Object(I.jsx)("span",{className:"value",children:null===a||void 0===a?void 0:a.redeemCode})]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{className:"label",children:"Order Date"}),Object(I.jsx)("span",{className:"value",children:null===a||void 0===a?void 0:a.timestamp})]})]})]}):null]})},ae=Object(k.b)(_.db)(m||(m=Object(M.a)(["\n  height: 100vh;\n  background: rgba(0,0,0,0.6);\n"]))),ie=k.b.div(h||(h=Object(M.a)([""]))),se=k.b.div(v||(v=Object(M.a)(["\n  margin-top: 24px;\n\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n"]))),le=k.b.div(y||(y=Object(M.a)(["\n  width: 100%;\n"]))),de=k.b.div(g||(g=Object(M.a)([""]))),oe=k.b.div(Y||(Y=Object(M.a)(["\n  color: #fff;\n  display: flex;\n  align-items: center;\n\n  & svg {\n    width: 1.25em;\n    fill: #fff;\n  }\n  & span {\n    margin-left: 8px;\n  }\n"]))),je=function(e){var n=e.offset,t=e.setOffset;return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(ie,{children:Object(I.jsxs)(_.wb,{style:{marginTop:"22px",height:"48px"},offset:n,Slider:!0,children:[Object(I.jsx)(_.vb,{onClick:function(){return t(0)},children:"Available"}),Object(I.jsx)(_.vb,{onClick:function(){return t(1)},children:"Redeemed"})]})})})};n.default=function(){var e,n,t,c,r,a,i=Object(N.useContext)(A.a),s=i.model,l=i.query,d=Object(N.useContext)(A.c).model,o=Object(H.f)(),j=Object(N.useState)(0),b=Object(C.a)(j,2),p=b[0],O=b[1],f=Object(N.useState)(0),x=Object(C.a)(f,2),u=x[0],m=x[1],h=Object(N.useState)(null),v=Object(C.a)(h,2),y=v[0],g=v[1],Y=d.filterForMyOrders.kinds,M=d.filterForMyOrders.date;Object(N.useEffect)((function(){0===p?l("MY_PURCHASE_ORDERS",{type:"PURCHASE"}):0===u?l("MY_HOT_DEAL_VOUCHERS",{type:"HOT_DEAL"}):l("MY_HOT_DEAL_REDEEM",{type:"REDEEM",status:"COMPLETED",productType:"HOT_DEAL"})}),[p,u]);var k=function(e){return function(){g(e===y?null:e)}},w=function(){g(null)},S=(null===(e=s.MY_PURCHASE_ORDERS.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.filter((function(e){return Y.includes(e.productType)})).filter((function(e){return E()(e.createdAt).isBetween(M.range[0],M.range[1])})).map((function(e){var n,t;return Object(D.a)(Object(D.a)({},e),{},{merchantName:"".concat(e.merchantName||"","#").concat(e.merchantId||""),timestamp:null===(n=e.createdAt)||void 0===n?void 0:n.split("T")[0],content:(null===(t=e.productInfo)||void 0===t?void 0:t.name)||"",receipt:(e.price||0)/100})})))||[],R=(null===(t=s.MY_HOT_DEAL_VOUCHERS.response)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.map((function(e){var n;return Object(D.a)(Object(D.a)({},e),{},{merchantName:"".concat(e.merchantName||"","#").concat(e.merchantId||""),counter:e.availableTimes||0,content:(null===(n=e.productInfo)||void 0===n?void 0:n.name)||"",price:(e.denomination||0)/100,exInfo:null})})))||[],F=(null===(r=s.MY_HOT_DEAL_REDEEM.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.map((function(e){var n,t;return Object(D.a)(Object(D.a)({},e),{},{merchantName:"".concat(e.merchantName||"","#").concat(e.merchantId||""),counter:e.productAmount||0,content:(null===(n=e.productInfo)||void 0===n?void 0:n.name)||"",price:(e.price||0)/100,exInfo:{redeemCode:(null===(t=e.code)||void 0===t?void 0:t.split("-").slice(-1)[0])||""}})})))||[];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(_.db,{className:"z-index-2",children:Object(I.jsxs)(_.pb,{margin:"226px 0 0 0",children:[0===p&&Object(I.jsx)(le,{children:0===(null===S||void 0===S?void 0:S.length)?Object(I.jsx)(_.k,{type:"order"}):null===S||void 0===S?void 0:S.map((function(e,n){return Object(I.jsx)(ee,Object(D.a)(Object(D.a)({},e),{},{onClick:function(){return n=e,void o.push({pathname:T.b.ORDER_DETAILS,state:{context:n}});var n}}),n)}))}),1===p&&0===u&&Object(I.jsx)(de,{children:0===(null===R||void 0===R?void 0:R.length)?Object(I.jsx)(_.k,{type:"voucher_a"}):R.map((function(e,n){return Object(I.jsx)(re,Object(D.a)({},e),n)}))}),1===p&&1===u&&Object(I.jsx)(de,{children:0===(null===F||void 0===F?void 0:F.length)?Object(I.jsx)(_.k,{type:"voucher_r"}):F.map((function(e,n){return Object(I.jsx)(re,Object(D.a)({},e),n)}))}),Object(I.jsx)(_.i,{className:"space",padding:"0 0 60px 0"})]})}),y?Object(I.jsx)(ae,{className:"z-index-3",onClick:function(){return g(null)}}):null,Object(I.jsxs)(_.db,{className:"z-index-5",height:"209px",padding:"24px 0 0 0",background:T.h.color.primary.default,children:[Object(I.jsxs)(_.pb,{children:[Object(I.jsxs)(oe,{children:[Object(I.jsx)(_.M,{}),Object(I.jsx)("span",{className:"ft-pm18",children:"Order History"})]}),Object(I.jsx)(ie,{children:Object(I.jsxs)(_.wb,{style:{marginTop:"22px"},offset:p,Slider:!0,children:[Object(I.jsx)(_.vb,{onClick:function(){return O(0)},children:"My Transactions"}),Object(I.jsx)(_.vb,{onClick:function(){return O(1)},children:"My Vouchers"})]})}),0===p?Object(I.jsxs)(se,{children:[Object(I.jsx)(W,{open:"date"===y,onOpen:k("date"),onConfirm:w,icon:Object(I.jsx)(_.B,{}),text:M.label}),Object(I.jsx)(B,{open:"type"===y,onOpen:k("type"),onClose:w,icon:Object(I.jsx)(_.C,{}),text:Y.length===T.d.length?"All Orders":"[".concat(Y.length,"] Orders")})]}):null,1===p?Object(I.jsx)(je,{offset:u,setOffset:m}):null]}),Object(I.jsx)(_.ib,{page:"orders"})]})]})}}}]);
//# sourceMappingURL=6.dba6a4d9.chunk.js.map